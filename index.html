<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Rock Paper Scissors</title>
        <!--<meta name="viewport" content="whidth=device-width, initial-scale=1.0">-->
        <meta charset="UTF-8">
        <link rel = "stylesheet" href =  "style.css">
    </head>
    <body>
        <script>
            let contComp = 0;
            let contPlay = 0;
            let contEqual = 0;
        for (let cont = 0; cont < 5; cont += 1) {
            let input = window.prompt("entry rock papper or scissor");
            let playerSelection = input.toLowerCase();
            /*input data check*/
            lbl:function dataCheck(playerSelection) {
                if ((playerSelection == "rock" ) || (playerSelection == "papper" ) || (playerSelection == "scissor" )) {
                    return true;
                }
                else {
                    return false;
                }
            }
            if (dataCheck(playerSelection) == false) {
                console.log("wrong entry");
                lbl:continue;
            }
            /*function that randomly generates input from the computer*/
            function genComp(){
                let rand = Math.floor(Math.random()*3);   
                switch (rand){
                    case 0:
                        return "rock";
                        break;
                    case 1:
                        return "papper";
                        break;
                    case 2:
                        return "scissor";
                        break;
                    }
                }
            let computerSelection = genComp();
            /*computerSelection is the input randomly generated by the computer*/                          
            function playRound(playerSelection, computerSelection) {
                let msWin = `You Win! ${playerSelection} beats ${computerSelection}`;
                let msLost = `You Lost! ${computerSelection} beats ${playerSelection}`;
                let msEqual = `Try again`;
                let mswrong = `${playerSelection} invalid entry`;
                if (playerSelection == "rock") {
                    /*nested functions*/
                    if (computerSelection == "scissor") {
                        contPlay += 1;
                        return [contPlay, contComp, contEqual];
                    }
                    else if (computerSelection == "papper") {
                        contComp += 1;
                        return [contPlay, contComp, contEqual];
                    }
                    else if (computerSelection == "rock") {
                        contEqual += 1;
                        return [contPlay, contComp, contEqual];
                    }    
                }
                if (playerSelection == "papper") {
                    if (computerSelection == "rock") {
                        contPlay += 1;
                        return [contPlay, contComp, contEqual];
                    }
                    else if (computerSelection == "scissor") {
                        contComp += 1;
                        return [contPlay, contComp, contEqual];
                    }
                    else if (computerSelection == "papper") {
                        contEqual += 1;
                        return [contPlay, contComp, contEqual];
                    }
                }
                if (playerSelection == "scissor") {
                    if (computerSelection == "papper") {
                        contPlay += 1;
                        return [contPlay, contComp, contEqual];
                    }
                    else if (computerSelection == "rock") {
                        contComp += 1;
                        return [contPlay, contComp, contEqual];
                    }
                    else if (computerSelection == "scissor") {
                        contEqual += 1;
                        return [contPlay, contComp, contEqual];
                    }                    
                }
            }
            let out = playRound(playerSelection, computerSelection);
            console.log(`Win = ${out[0]} lost = ${out[1]} equals =${out[2]}`);
            console.log(`entry by player = ${playerSelection}`);    
            console.log(`entry by computer = ${computerSelection}`);  
            function final(out) {
                if (out[0] > out[1]) {
                    return "you are the winner";
                    }
                else {
                    return "you art the losser"
                    }  
                }
            console.log(final(out));    
            
        }
        
        </script>
    </body>
</html>